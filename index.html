<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ Cosmic Collector - Multi-Game Platform</title>
    <link rel="stylesheet" href="styles/main.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app-container">
        <!-- Navigation Sidebar -->
        <nav id="game-nav" class="sidebar">
            <div class="nav-header">
                <h2>ğŸš€ COSMIC GAMES</h2>
                <!-- Player Stats -->
                <div class="player-stats">
                    <div class="cosmic-tokens">
                        <span class="token-icon">ğŸ’</span>
                        <span id="playerTokens">0</span> Tokens
                    </div>
                    <div class="player-level">
                        <span class="level-icon">â­</span>
                        <span>Level <span id="playerLevel">1</span></span>
                    </div>
                </div>
            </div>
            <div class="nav-links">
                <a href="#cosmic-collector" class="nav-link active" data-game="cosmic-collector">
                    ğŸŒŒ Cosmic Collector
                </a>
                <a href="#token-battle" class="nav-link" data-game="token-battle">
                    âš”ï¸ Token Battle
                </a>
                <a href="#space-defender" class="nav-link" data-game="space-defender">
                    ğŸ›¡ï¸ Space Defender
                </a>
                <a href="#asteroid-miner" class="nav-link" data-game="asteroid-miner">
                    â›ï¸ Asteroid Miner
                </a>
                <a href="#space-snake" class="nav-link" data-game="space-snake">
                    ğŸ Space Snake
                </a>
                <!-- New Sections -->
                <div class="nav-divider"></div>
                <a href="#marketplace" class="nav-link" data-section="marketplace">
                    ğŸ›’ NFT Marketplace
                </a>
                <a href="#leaderboard" class="nav-link" data-section="leaderboard">
                    ğŸ† Leaderboards
                </a>
            </div>
            <div class="nav-footer">
                <div id="wallet-status" class="wallet-info">
                    <span id="wallet-address">Wallet: Not Connected</span>
                    <span id="hbar-balance">Balance: 0 HBAR</span>
                </div>
                <button id="connect-wallet" class="nav-btn">ğŸ”— Connect Wallet</button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main id="main-content">
            <!-- Cosmic Collector Game -->
            <div id="cosmic-collector" class="game-container active">
                <div class="game-header">
                    <h1>ğŸŒŒ Cosmic Collector</h1>
                    <p>Classic space shooter with NFT spaceships</p>
                    <button class="leaderboard-btn" onclick="showGameLeaderboard('cosmic-collector')">ğŸ† View Leaderboard</button>
                </div>
                
                <div id="cosmic-game-area">
                    <canvas id="cosmicCanvas"></canvas>
                    
                    <div id="cosmic-ui" class="game-ui">
                        <div id="cosmic-hud" class="hud">
                            <div class="hud-item">
                                <span>Score:</span>
                                <span id="cosmic-score">0</span>
                            </div>
                            <div class="hud-item">
                                <span>Level:</span>
                                <span id="cosmic-level">1</span>
                            </div>
                            <div class="hud-item">
                                <span>Health:</span>
                                <div class="health-bar">
                                    <div id="cosmic-health" class="health-fill"></div>
                                </div>
                            </div>
                            <div class="hud-item">
                                <span>Lives:</span>
                                <span id="cosmic-lives">3</span>
                            </div>
                            <div class="hud-item tokens-earned">
                                <span>Tokens:</span>
                                <span id="cosmic-tokens-earned">0</span>
                            </div>
                        </div>
                        
                        <div class="game-controls">
                            <button id="cosmic-start" class="game-btn primary">ğŸš€ Start Game</button>
                            <button id="cosmic-pause" class="game-btn secondary">â¸ï¸ Pause</button>
                            <button id="cosmic-reset" class="game-btn secondary">ğŸ”„ Reset</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Token Battle Game -->
            <div id="token-battle" class="game-container">
                <div class="game-header">
                    <h1>âš”ï¸ Token Battle</h1>
                    <p>Battle between crypto tokens - 30 second rounds</p>
                    <button class="leaderboard-btn" onclick="showGameLeaderboard('token-battle')">ğŸ† View Leaderboard</button>
                </div>
                
                <div id="token-game-area">
                    <div id="token-battle-arena" class="battle-arena">
                        <div class="battle-header">
                            <div id="battle-timer" class="timer">30</div>
                            <div id="battle-score" class="score">Score: 0</div>
                            <div class="tokens-earned">
                                <span>Tokens: <span id="battle-tokens-earned">0</span></span>
                            </div>
                        </div>
                        
                        <div id="battle-question" class="question-container">
                            <h3 id="question-text">Loading question...</h3>
                            <div class="token-options">
                                <div id="token-a" class="token-card">
                                    <div class="token-icon">ğŸª™</div>
                                    <div class="token-name">Token A</div>
                                    <div class="token-data">Loading...</div>
                                </div>
                                <div class="vs-divider">VS</div>
                                <div id="token-b" class="token-card">
                                    <div class="token-icon">ğŸª™</div>
                                    <div class="token-name">Token B</div>
                                    <div class="token-data">Loading...</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="battle-controls">
                            <button id="token-start" class="game-btn primary">âš”ï¸ Start Battle</button>
                            <button id="token-mode-toggle" class="game-btn secondary">ğŸ”„ Demo Mode</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Space Defender Game -->
            <div id="space-defender" class="game-container">
                <div class="game-header">
                    <h1>ğŸ›¡ï¸ Space Defender</h1>
                    <p>Defend your base from incoming asteroids</p>
                    <button class="leaderboard-btn" onclick="showGameLeaderboard('space-defender')">ğŸ† View Leaderboard</button>
                </div>
                
                <div id="defender-game-area">
                    <canvas id="defenderCanvas"></canvas>
                    
                    <div id="defender-ui" class="game-ui">
                        <div id="defender-hud" class="hud">
                            <div class="hud-item">
                                <span>Score:</span>
                                <span id="defender-score">0</span>
                            </div>
                            <div class="hud-item">
                                <span>Wave:</span>
                                <span id="defender-wave">1</span>
                            </div>
                            <div class="hud-item">
                                <span>Base Health:</span>
                                <div class="health-bar">
                                    <div id="defender-health" class="health-fill"></div>
                                </div>
                            </div>
                            <div class="hud-item tokens-earned">
                                <span>Tokens:</span>
                                <span id="defender-tokens-earned">0</span>
                            </div>
                        </div>
                        
                        <div class="game-controls">
                            <button id="defender-start" class="game-btn primary">ğŸ›¡ï¸ Start Defense</button>
                            <button id="defender-pause" class="game-btn secondary">â¸ï¸ Pause</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Asteroid Miner Game -->
            <div id="asteroid-miner" class="game-container">
                <div class="game-header">
                    <h1>â›ï¸ Asteroid Miner</h1>
                    <p>Mine asteroids for crypto rewards</p>
                    <button class="leaderboard-btn" onclick="showGameLeaderboard('asteroid-miner')">ğŸ† View Leaderboard</button>
                </div>
                
                <div id="miner-game-area">
                    <canvas id="minerCanvas"></canvas>
                    
                    <div id="miner-ui" class="game-ui">
                        <div id="miner-hud" class="hud">
                            <div class="hud-item">
                                <span>Credits:</span>
                                <span id="miner-credits">0</span>
                            </div>
                            <div class="hud-item">
                                <span>Fuel:</span>
                                <div class="health-bar">
                                    <div id="miner-fuel" class="health-fill"></div>
                                </div>
                            </div>
                            <div class="hud-item">
                                <span>Cargo:</span>
                                <span id="miner-cargo">0/100</span>
                            </div>
                            <div class="hud-item tokens-earned">
                                <span>Tokens:</span>
                                <span id="miner-tokens-earned">0</span>
                            </div>
                        </div>
                        
                        <div class="game-controls">
                            <button id="miner-start" class="game-btn primary">â›ï¸ Start Mining</button>
                            <button id="miner-pause" class="game-btn secondary">â¸ï¸ Pause</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Space Snake Game -->
            <div id="space-snake" class="game-container">
                <div class="game-header">
                    <h1>ğŸ Space Snake</h1>
                    <p>Classic snake game with space theme and rewards</p>
                    <button class="leaderboard-btn" onclick="showGameLeaderboard('space-snake')">ğŸ† View Leaderboard</button>
                </div>
                
                <div id="snake-game-area">
                    <canvas id="snakeCanvas"></canvas>
                    
                    <div id="snake-ui" class="game-ui">
                        <div id="snake-hud" class="hud">
                            <div class="hud-item">
                                <span>Score:</span>
                                <span id="snake-score">0</span>
                            </div>
                            <div class="hud-item">
                                <span>Length:</span>
                                <span id="snake-length">1</span>
                            </div>
                            <div class="hud-item">
                                <span>Level:</span>
                                <span id="snake-level">1</span>
                            </div>
                            <div class="hud-item">
                                <span>Streak:</span>
                                <span id="snake-streak">0</span>
                            </div>
                            <div class="hud-item tokens-earned">
                                <span>Tokens:</span>
                                <span id="snake-tokens-earned">0</span>
                            </div>
                        </div>
                        
                        <div class="game-controls">
                            <button id="snake-start" class="game-btn primary">ğŸ Start Game</button>
                            <button id="snake-pause" class="game-btn secondary">â¸ï¸ Pause</button>
                            <button id="snake-reset" class="game-btn secondary">ğŸ”„ Reset</button>
                        </div>
                        
                        <div class="snake-instructions">
                            <p>ğŸ•¹ï¸ Use arrow keys or mobile joystick to control the snake</p>
                            <p>ğŸ Eat food to grow â€¢ ğŸ’ Collect special items for bonuses</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NFT Marketplace Section -->
            <div id="marketplace" class="section-container">
                <div class="section-header">
                    <h1>ğŸ›’ NFT Marketplace</h1>
                    <p>Purchase NFT items to enhance your gameplay experience</p>
                </div>
                
                <div class="marketplace-content">
                    <div class="marketplace-categories">
                        <button class="category-btn active" data-category="ships">ğŸš€ Spaceships</button>
                        <button class="category-btn" data-category="weapons">âš”ï¸ Weapons</button>
                        <button class="category-btn" data-category="powerups">âš¡ Power-ups</button>
                        <button class="category-btn" data-category="skins">ğŸ¨ Skins</button>
                    </div>
                    
                    <div class="marketplace-grid" id="marketplace-items">
                        <!-- Items will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Leaderboards Section -->
            <div id="leaderboard" class="section-container">
                <div class="section-header">
                    <h1>ğŸ† Leaderboards</h1>
                    <p>Top players across all games</p>
                </div>
                
                <div class="leaderboard-content">
                    <div class="leaderboard-tabs">
                        <button class="tab-btn active" data-game="all">ğŸŒŸ Overall</button>
                        <button class="tab-btn" data-game="cosmic-collector">ğŸŒŒ Cosmic Collector</button>
                        <button class="tab-btn" data-game="token-battle">âš”ï¸ Token Battle</button>
                        <button class="tab-btn" data-game="space-defender">ğŸ›¡ï¸ Space Defender</button>
                        <button class="tab-btn" data-game="asteroid-miner">â›ï¸ Asteroid Miner</button>
                        <button class="tab-btn" data-game="space-snake">ğŸ Space Snake</button>
                    </div>
                    
                    <div class="leaderboard-table" id="leaderboard-table">
                        <!-- Leaderboard will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </main>

        <!-- Mobile Touch Controls -->
        <div id="mobile-controls" class="mobile-controls">
            <div class="virtual-joystick">
                <div class="joystick-base">
                    <div class="joystick-handle" id="joystick-handle"></div>
                </div>
            </div>
            <div class="action-buttons">
                <button class="action-btn" id="mobile-fire">ğŸ”¥</button>
                <button class="action-btn" id="mobile-special">âš¡</button>
            </div>
        </div>
    </div>

    <!-- Game Over Modal (Enhanced) -->
    <div id="game-over-modal" class="modal">
        <div class="modal-content">
            <h2>ğŸŒŸ Game Over</h2>
            <div id="final-stats"></div>
            <div class="tokens-earned-display">
                <h3>ğŸ’ Tokens Earned: <span id="tokens-earned-final">0</span></h3>
            </div>
            <div class="score-submission">
                <input type="text" id="player-name" placeholder="Enter your name" maxlength="20">
                <button id="submit-score" class="game-btn primary">ğŸ† Submit Score (1 HBAR)</button>
            </div>
            <div class="modal-buttons">
                <button id="play-again" class="game-btn primary">ğŸ”„ Play Again</button>
                <button id="close-modal" class="game-btn secondary">âŒ Close</button>
            </div>
        </div>
    </div>

    <!-- NFT Purchase Modal -->
    <div id="nft-purchase-modal" class="modal">
        <div class="modal-content">
            <h2>ğŸ›’ Purchase NFT Item</h2>
            <div id="nft-details"></div>
            <div class="purchase-buttons">
                <button id="confirm-purchase" class="game-btn primary">ğŸ’ Purchase</button>
                <button id="cancel-purchase" class="game-btn secondary">âŒ Cancel</button>
            </div>
        </div>
    </div>

    <!-- Game Leaderboard Modal -->
    <div id="game-leaderboard-modal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2 id="leaderboard-game-title">ğŸ† Game Leaderboard</h2>
                <button id="close-game-leaderboard" class="close-btn">âŒ</button>
            </div>
            <div id="game-leaderboard-content"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="scripts/vector2d.js"></script>
    <script src="scripts/physics.js"></script>
    <script src="scripts/entities.js"></script>
    <script src="scripts/particles.js"></script>
    <script src="scripts/powerups.js"></script>
    <script src="scripts/hedera.js"></script>
    <script src="scripts/mobile-controls.js"></script>
    <script src="scripts/marketplace.js"></script>
    <script src="scripts/leaderboard.js"></script>
    <script src="scripts/earning-system.js"></script>
    <script src="scripts/cosmic-collector.js"></script>
    <script src="scripts/token-battle.js"></script>
    <script src="scripts/space-defender.js"></script>
    <script src="scripts/asteroid-miner.js"></script>
    <script src="scripts/spaceSnakeGame.js"></script>
    <script src="scripts/navigation.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html>